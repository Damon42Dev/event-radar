(function(){(()=>{var r,d;const m=((r=document.body)==null?void 0:r.innerText)||"",h=/(20\d{2})[-/.](0?[1-9]|1[0-2])[-/.](0?[1-9]|[12]\d|3[01])/i,g=/\b([01]?\d|2[0-3]):([0-5]\d)\b/,p=/(event|meeting|conference|concert|webinar|讲座|会议|活动|音乐会)[:\-\s]+(.{3,80})/i,S=/(location|address|地点)[:\-\s]+(.{3,80})/i,n=m.split(/\n+/),i=[];for(let e=0;e<n.length;e++){const c=n[e].trim();if(!c)continue;const t=c.match(h),o=c.match(g);if(t||o){const s=[n[e-1]||"",c,n[e+1]||""].join(` 
 `),a=s.match(p),l=s.match(S),x=t&&t[1]||new Date().getFullYear(),u=t&&t[2]||"01",f=t&&t[3]||"01",y=`${String(x).padStart(4,"0")}-${String(u).padStart(2,"0")}-${String(f).padStart(2,"0")}`,M=o?`${o[1].padStart(2,"0")}:${o[2]}`:"00:00",$=a?(a[2]||a[1]).trim():document.title.slice(0,80),b=l?(l[2]||"").trim():"",R=s.slice(0,200);i.push({title:$,date:y,time:M,location:b,description:R})}}i.length>0&&((d=chrome.runtime)==null||d.sendMessage({type:"CONTENT_EVENTS",payload:i}))})();
})()
